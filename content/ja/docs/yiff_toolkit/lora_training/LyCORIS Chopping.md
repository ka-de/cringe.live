---
weight: 2
bookFlatSection: false
bookToC: false
title: "LyCORISのチョッピング"
---

<!--markdownlint-disable MD025 -->

# LyCORISのチョッピング

LoRAは時にトレーニング中に望ましくない要素や動作を含むことがあります。「チョッピング」を使用すると、LoRAモデルの異なる部分を選択的に有効または無効にして、その効果を微調整できます。これにより、スタイル転送、キャラクターの一貫性、その他の属性を制御するのに役立ちます。

## クイックソリューション：ブロックの重み付け

生成時にブロックの重み付けツールを使用できます：

- [ComfyUI Inspire Pack](https://github.com/ltdrdata/ComfyUI-Inspire-Pack) - LoRAブロックの重み付け機能を含む
- [A1111 LoRA Block Weight](https://github.com/hako-mikan/sd-webui-lora-block-weight)

## 永続的なソリューション：チョッピング

永続的なソリューションとして、GaerosのchopBlocksを使用してLoRAファイル自体を修正できます：

```bash
git clone https://github.com/elias-gaeros/resize_lora
cd resize_lora
```

### 使用方法

```bash
python chop_blocks.py --model input.safetensors --save_to output.safetensors --vector "1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1"
```

## ベクトル文字列について

ベクトル文字列は、0から1の値を使用してどのレイヤーを保持または削除するかを制御します：

- 1.0 = レイヤーを完全に保持
- 0.0 = レイヤーを完全に削除
- その間の値 = 部分的な効果

### レイヤーのマッピング

| 位置 | レイヤー | 説明 | 一般的な用途 |
| -------- | ------ | ----------- | ------------ |
| 1        | グローバル | 全体的なLoRAの強さ | 通常は1に保持 |
| 2-7      | ダウン   | 初期特徴抽出 | スタイル、構図 |
| 8-9      | ミッド    | コア処理 | ポーズ、レイアウト |
| 10-21    | アウト    | 詳細の再構築 | キャラクターの詳細 |

## 一般的なプリセット

| プリセット名 | ベクトル |
|------------|---------|
| キャラクターフォーカス | `1,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,1,1,0,0,0` |
| hamgas | `1,0,0,0,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,0` |
| kenket | `1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1` |
| serpent_x | `1,0,0,0,0,1,0,1,1,0,0,0,1,1,1,1,1,1,0,0,0` |
| BEEG LAYERS | `1,0,0,0,1,1,0,1,1,0,1,0,1,1,1,0,0,0,0,0,0` |
| すべてのレイヤー | `1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1` |
| オールイン | `1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0` |
| オールミッド | `1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0` |
| オールアウト（Wolf-Link） | `1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1` |
| スタイル転送 | `1,0,0,0,0,0,0,0,1,0,0,0,1,1,1,0,0,0,0,0,0` |
| Ringdingding（Stoat） | `1,0,0,0,0,0,0,0,1,0,0,1,1,1,1,0,0,0,0,0,0` |
| Garfield（キャラクター＋スタイル） | `1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0` |
| Rutkowski | `1,1,1,1,1,1,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1` |

---

{{< related-posts related="docs/yiff_toolkit/lora_training/10-Minute-SDXL-LoRA-Training-for-the-Ultimate-Degenerates/ | docs/yiff_toolkit/lora_training/ | docs/yiff_toolkit/" >}}
